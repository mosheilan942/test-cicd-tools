stages:
  - build
  - deploy

build:
  stage: build
  script:
    - cd client
    - npm i --force
    - cd ../server
    - npm i --force

  tags:
    - docker

deploy:
  stage: deploy
  dependencies:
    - build
  script:
    - cd server
    - npm run start:dev
    - cd ../client
    - npm run start

  tags:
    - docker
    - linux
